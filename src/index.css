@import "tailwindcss";

@theme {
  /* Branding Colors - these reference :root CSS variables for dynamic theming */
  --color-primary: hsl(155, 50%, 45%);
  --color-primary-hover: hsl(155, 50%, 35%);
  --color-primary-light: hsl(155, 50%, 92%);
  --color-secondary: hsl(205, 70%, 50%);

  /* Semantic UI Colors */
  --color-bg-app: hsl(240, 5%, 96%);
  --color-bg-surface: hsl(255, 100%, 100%);
  --color-bg-surface-hover: hsl(240, 5%, 96%);

  --color-text-main: hsl(240, 5%, 10%);
  --color-text-muted: hsl(240, 4%, 45%);
  --color-text-light: hsl(240, 5%, 98%);

  --color-border-base: hsl(240, 5%, 85%);
  --color-border-hover: hsl(240, 5%, 70%);

  /* Radii */
  --radius-xl: 1rem;
  --radius-lg: 0.75rem;
  --radius-md: 0.5rem;
  --radius-sm: 0.25rem;

  /* Shadows */
  --shadow-glass: 0 4px 6px -1px hsla(240, 0%, 0%, 0.05), 0 2px 4px -1px hsla(240, 0%, 0%, 0.03);
}

:root {
  /* Universal Design Palette Base Neutrals: Zinc-like (Cool Greys) */
  --hue-neutral: 240;

  /* Primary: Emerald/Teal - Accessible & Fresh */
  --hue-primary: 155;
  --sat-primary: 50%;
  --lig-primary: 45%;

  /* Secondary: Sky/Blue */
  --hue-secondary: 205;

  /* Light Mode Semantic Colors */
  --color-bg-app: hsl(var(--hue-neutral), 5%, 96%);
  --color-bg-surface: hsl(255, 100%, 100%);
  --color-bg-surface-hover: hsl(var(--hue-neutral), 5%, 96%);

  --color-text-main: hsl(var(--hue-neutral), 5%, 10%);
  --color-text-muted: hsl(var(--hue-neutral), 4%, 45%);
  --color-text-light: hsl(var(--hue-neutral), 5%, 98%);

  --color-border: hsl(var(--hue-neutral), 5%, 85%);
  --color-border-hover: hsl(var(--hue-neutral), 5%, 70%);

  /* Brand Colors */
  --color-primary: hsl(var(--hue-primary), var(--sat-primary), var(--lig-primary));
  --color-primary-hover: hsl(var(--hue-primary), var(--sat-primary), 35%);
  --color-primary-light: hsl(var(--hue-primary), var(--sat-primary), 92%);

  --color-secondary: hsl(var(--hue-secondary), 70%, 50%);

  /* Glass Effects */
  --glass-bg: hsla(0, 0%, 100%, 0.7);
  --glass-border: hsla(var(--hue-neutral), 0%, 0%, 0.1);
  --glass-shadow: 0 4px 6px -1px hsla(var(--hue-neutral), 0%, 0%, 0.05),
    0 2px 4px -1px hsla(var(--hue-neutral), 0%, 0%, 0.03);

  /* Typography */
  --font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg-app: hsl(var(--hue-neutral), 5%, 7%);
    --color-bg-surface: hsl(var(--hue-neutral), 5%, 12%);
    --color-bg-surface-hover: hsl(var(--hue-neutral), 5%, 16%);

    --color-text-main: hsl(var(--hue-neutral), 5%, 92%);
    --color-text-muted: hsl(var(--hue-neutral), 4%, 60%);

    --color-border: hsl(var(--hue-neutral), 5%, 20%);
    --color-border-hover: hsl(var(--hue-neutral), 5%, 30%);

    --color-primary: hsl(var(--hue-primary), 50%, 50%);
    --color-primary-hover: hsl(var(--hue-primary), 50%, 60%);
    --color-primary-light: hsl(var(--hue-primary), 50%, 15%);

    --glass-bg: hsla(var(--hue-neutral), 5%, 12%, 0.6);
    --glass-border: hsla(var(--hue-neutral), 5%, 80%, 0.08);
    --glass-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }
}

html {
  overflow-x: hidden;
  width: 100%;
}

body {
  font-family: var(--font-family);
  background-color: var(--color-bg-app);
  color: var(--color-text-main);
  min-height: 100vh;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow-x: hidden;
  width: 100%;
}

@layer components {
  .glass-panel {
    @apply p-8 border border-border-base shadow-glass bg-bg-surface rounded-xl;
  }

  @supports (backdrop-filter: blur(12px)) {
    .glass-panel {
      background: var(--glass-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--glass-border);
    }
  }

  .glass-card {
    @apply p-6 border border-border-base bg-bg-surface rounded-lg shadow-sm;
  }

  .app-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .input-field {
    @apply px-4 py-3 border border-border-base bg-bg-surface text-text-main rounded-md transition-all duration-200 placeholder:text-text-muted focus:outline-none focus:border-primary focus:ring-3 focus:ring-primary-light;
  }

  .btn {
    @apply px-6 py-3 rounded-md font-semibold cursor-pointer transition-all duration-200 flex items-center justify-center gap-2;
  }

  .btn-primary {
    @apply bg-primary text-white shadow-md hover:bg-primary-hover disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none;
    box-shadow: 0 4px 6px -1px hsla(var(--hue-primary), 60%, 40%, 0.2);
  }

  .btn-icon {
    @apply p-2 bg-transparent text-text-muted rounded-md hover:text-text-main hover:bg-bg-surface-hover;
  }

  .tooltip-container {
    @apply relative inline-block;
  }

  .tooltip-text {
    @apply invisible absolute z-50 bottom-[125%] left-1/2 -ml-[100px] w-[200px] p-2 bg-bg-surface text-text-main text-center text-xs border border-border-base rounded-md shadow-glass opacity-0 transition-opacity duration-300 pointer-events-none;
  }

  .tooltip-container:hover .tooltip-text,
  .tooltip-container:focus-within .tooltip-text {
    @apply visible opacity-100;
  }

  .tooltip-text::after {
    content: "";
    @apply absolute top-full left-1/2 -ml-[5px] border-[5px] border-solid border-t-border-base border-x-transparent border-b-transparent;
  }

  .instruction-step-active {
    @apply bg-primary-light rounded-md ring-4 ring-primary-light;
  }
}
